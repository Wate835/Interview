(function(){"use strict";var e={3642:function(e,s,t){var n=t(9242),r=t(3396);function i(e,s,t,i,a,l){const o=(0,r.up)("the-header"),u=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(o),(0,r.Wm)(u,null,{default:(0,r.w5)((({Component:e})=>[(0,r.Wm)(n.uT,{name:"route",mode:"out-in"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)(r.Ob,null,[((0,r.wg)(),(0,r.j4)((0,r.LL)(e)))],1024))])),_:2},1024)])),_:1})],64)}var a=t(65);const l={class:"header"},o={class:"header__wrapper"},u=(0,r._)("h1",{class:"header__info"},"Interview",-1),c={class:"nav"};function d(e,s){const t=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",l,[(0,r._)("div",o,[u,(0,r._)("nav",c,[(0,r.Wm)(t,{class:"btn",style:{"margin-right":"8px"},to:{name:"home"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Список опрошеных")])),_:1}),(0,r.Wm)(t,{class:"btn",to:{name:"interview"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Пройти опрос")])),_:1})])])])}var p=t(89);const h={},m=(0,p.Z)(h,[["render",d]]);var v=m,w={components:{TheHeader:v},created(){this.loadUsers()},methods:{...(0,a.nv)(["loadUsers"])}};const g=(0,p.Z)(w,[["render",i]]);var f=g,b=t(2483);const y={class:"home"},_={class:"container"};function k(e,s,t,n,i,a){const l=(0,r.up)("BreadCrumbs"),o=(0,r.up)("main-table");return(0,r.wg)(),(0,r.iD)("div",y,[(0,r._)("div",_,[(0,r.Wm)(l,{link:"List of respondents"}),(0,r.Wm)(o)])])}var q=t(7139);const D={class:"breadcrumbs"},C=(0,r._)("li",{class:"breadcrumbs__item"},[(0,r._)("a",{class:"breadcrumbs__link"}," Site ")],-1),U={class:"breadcrumbs__item"},x={class:"breadcrumbs__link"};function L(e,s,t,n,i,a){return(0,r.wg)(),(0,r.iD)("ul",D,[C,(0,r._)("li",U,[(0,r._)("a",x,(0,q.zw)(t.link),1)])])}var Z={props:["link"]};const O=(0,p.Z)(Z,[["render",L]]);var z=O;const W={class:"wrapper"},F=(0,r.uE)('<div class="table-head table-row"><div class="">Full Name</div><div class="">E-mail</div><div class="">Phone</div><div class="">Result</div></div>',1),M={key:0,class:"loader-wrapper"},I={key:1,class:"error"},T={key:2,class:"error"},R={class:"table-data"},j={class:"table-data"},S={class:"table-data"},P={key:0,class:"table-data"};function Q(e,s,t,n,i,a){const l=(0,r.up)("base-loader");return(0,r.wg)(),(0,r.iD)("div",W,[F,a.isLoading?((0,r.wg)(),(0,r.iD)("div",M,[(0,r.Wm)(l)])):a.isLoadingFailed?((0,r.wg)(),(0,r.iD)("h2",I," Возникла ошибка при загрузке пользователей. Обратитесь в поддержку или попробуйте позже. ")):a.users.length?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("h2",T," Пока что список пуст. Пройдите опрос! ")),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.users,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e.id,class:"table-row"},[(0,r._)("div",R,(0,q.zw)(e.name),1),(0,r._)("div",j,(0,q.zw)(e.email),1),(0,r._)("div",S,(0,q.zw)(e.phone),1),e.questions?((0,r.wg)(),(0,r.iD)("div",P,(0,q.zw)(a.totalResult(e))+"/ "+(0,q.zw)(e.questions.length),1)):(0,r.kq)("",!0)])))),128))])}var $={methods:{isDone(e){return"checkbox"==e.type?0!=e.answer.length:e.answer}}},B={mixins:[$],computed:{users(){return this.$store.state.usersData},isLoading(){return this.$store.state.isLoading},isLoadingFailed(){return this.$store.state.isLoadingFailed}},methods:{totalResult(e){return e.questions.reduce(((e,s)=>this.isDone(s)?e+1:e),0)}}};const H=(0,p.Z)(B,[["render",Q]]);var V=H,Y={components:{BreadCrumbs:z,MainTable:V}};const N=(0,p.Z)(Y,[["render",k]]);var K=N;const E={class:"container"};function J(e,s,t,n,i,a){const l=(0,r.up)("BreadCrumbs"),o=(0,r.up)("reg-form"),u=(0,r.up)("interview-form");return(0,r.wg)(),(0,r.iD)("div",E,[(0,r.Wm)(l,{link:"Interview"}),this.user?((0,r.wg)(),(0,r.j4)(u,{key:1,user:this.user,"onUpdate:user":s[1]||(s[1]=e=>this.user=e)},null,8,["user"])):((0,r.wg)(),(0,r.j4)(o,{key:0,user:this.user,"onUpdate:user":s[0]||(s[0]=e=>this.user=e)},null,8,["user"]))])}const A={class:"req-wrapper"},G={class:"reg-field"},X=(0,r._)("label",{class:"label",for:"fullname"},"Full Name",-1),ee={key:0,class:"error-msg"},se={class:"reg-field"},te=(0,r._)("label",{class:"label",for:"email"},"E-mail",-1),ne={key:0,class:"error-msg"},re={class:"reg-field"},ie=(0,r._)("label",{class:"label",for:"phone"},"Phone",-1),ae={key:0,class:"error-msg"},le={class:"links"},oe=(0,r._)("button",{type:"submit",class:"btn"}," Начать опрос ",-1);function ue(e,s,t,i,a,l){const o=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",A,[(0,r._)("form",{class:"reg-form",onSubmit:s[3]||(s[3]=(0,n.iM)(((...e)=>l.initUser&&l.initUser(...e)),["prevent"]))},[(0,r._)("div",G,[X,(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[0]||(s[0]=e=>a.name=e),id:"fullname",type:"text"},null,512),[[n.nr,a.name]]),a.errors.name?((0,r.wg)(),(0,r.iD)("span",ee,(0,q.zw)(a.errors.name),1)):(0,r.kq)("",!0)]),(0,r._)("div",se,[te,(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[1]||(s[1]=e=>a.email=e),id:"email",type:"email"},null,512),[[n.nr,a.email]]),a.errors.email?((0,r.wg)(),(0,r.iD)("span",ne,(0,q.zw)(a.errors.email),1)):(0,r.kq)("",!0)]),(0,r._)("div",re,[ie,(0,r.wy)((0,r._)("input",{class:"input","onUpdate:modelValue":s[2]||(s[2]=e=>a.phone=e),id:"phone",type:"text",oninput:"this.value = this.value.replace (/[^0-9+]/g, '')"},null,512),[[n.nr,a.phone]]),a.errors.phone?((0,r.wg)(),(0,r.iD)("span",ae,(0,q.zw)(a.errors.phone),1)):(0,r.kq)("",!0)]),(0,r._)("div",le,[(0,r.Wm)(o,{class:"btn",style:{"margin-right":"8px"},to:{name:"home"}},{default:(0,r.w5)((()=>[(0,r.Uk)("Вернуться к списку")])),_:1}),oe])],32)])}var ce={methods:{validateForm(e){this.errors=[];for(let s of e)for(let e in s.validators)"isReq"==e&&1==s.validators[e]&&this.isReq(s.field),this.isReq(s.field)&&("isTwoWords"==e&&1==s.validators[e]&&this.isTwoWords(s.field),"minLength"==e&&this.minLength(s.field,s.validators[e]));return!(this.errors["name"]||this.errors["email"]||this.errors["phone"])},isReq(e){return!!this[e]||(this.errors[e]="Поле должно быть заполнено",!1)},isTwoWords(e){2!=this[e].split(" ").length&&(this.errors[e]="Полное имя должно состоять из двух слов")},minLength(e,s){String(this[e]).length<s&&(this.errors[e]=`Минимум ${s} символов`)}}},de={mixins:[ce],props:["user"],data(){return{questions:JSON.parse(JSON.stringify(this.$store.state.questionsData)),name:null,email:null,phone:null,errors:[]}},methods:{initUser(){this.validateForm([{field:"name",validators:{isReq:!0,isTwoWords:!0}},{field:"email",validators:{isReq:!0}},{field:"phone",validators:{isReq:!0,minLength:11}}])&&this.$emit("update:user",{name:this.name,email:this.email,phone:this.phone,questions:this.questions})}}};const pe=(0,p.Z)(de,[["render",ue]]);var he=pe;const me={class:"inter"},ve=(0,r._)("h2",null,"Вопросы:",-1),we={class:"int-wrapper"},ge={class:"int-text"},fe={class:"que-label"};function be(e,s,t,i,a,l){const o=(0,r.up)("progress-bar"),u=(0,r.up)("answer-field"),c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",me,[ve,(0,r.Wm)(o,{current:a.current,"onUpdate:current":s[0]||(s[0]=e=>a.current=e),items:t.user.questions},null,8,["current","items"]),(0,r._)("div",we,[(0,r._)("span",ge," Вопрос "+(0,q.zw)(a.current)+":",1),(0,r._)("label",fe,[(0,r.Uk)((0,q.zw)(l.question.placeholder)+" ",1),(0,r.Wm)(u,{question:l.question,"onUpdate:question":s[1]||(s[1]=e=>l.question=e)},null,8,["question"])]),(0,r._)("a",{style:{"margin-right":"31px"},href:"#",class:(0,q.C_)([{disabled:1==a.current},"btn"]),onClick:s[2]||(s[2]=(0,n.iM)((e=>l.changeCurr(-1)),["prevent"]))},"Вернуться назад",2),this.current<this.user.questions.length?((0,r.wg)(),(0,r.iD)("a",{key:0,href:"#",onClick:s[3]||(s[3]=(0,n.iM)((e=>l.changeCurr(1)),["prevent"])),class:"btn"},"Следующий")):((0,r.wg)(),(0,r.j4)(c,{key:1,to:{name:"home"},onClick:s[4]||(s[4]=(0,n.iM)((e=>l.pushUser(a.userInProgress)),["prevent"])),class:"btn"},{default:(0,r.w5)((()=>[(0,r.Uk)("Закончить опрос")])),_:1}))])])}const ye={class:"progress"},_e=["onClick"],ke={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},qe=(0,r._)("path",{d:"M8.19995 0.25C3.91973 0.25 0.449951 3.71978 0.449951 8C0.449951 12.2802 3.91973 15.75 8.19995 15.75C12.4802 15.75 15.95 12.2802 15.95 8C15.95 3.71978 12.4802 0.25 8.19995 0.25ZM10.7 8C10.7 9.3785 9.57845 10.5 8.19995 10.5C6.82145 10.5 5.69995 9.3785 5.69995 8C5.69995 6.6215 6.82145 5.5 8.19995 5.5C9.57845 5.5 10.7 6.6215 10.7 8Z",fill:"#5469D4"},null,-1),De=[qe],Ce={key:1,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ue=(0,r._)("path",{d:"M15.75 8C15.75 12.2802 12.2802 15.75 8 15.75C3.71978 15.75 0.25 12.2802 0.25 8C0.25 3.71978 3.71978 0.25 8 0.25C12.2802 0.25 15.75 3.71978 15.75 8ZM7.10356 12.1036L12.8536 6.35356C13.0488 6.15831 13.0488 5.84172 12.8536 5.64647L12.1465 4.93937C11.9512 4.74409 11.6346 4.74409 11.4393 4.93937L6.75 9.62869L4.56066 7.43934C4.36541 7.24409 4.04881 7.24409 3.85353 7.43934L3.14644 8.14644C2.95119 8.34169 2.95119 8.65828 3.14644 8.85353L6.39644 12.1035C6.59172 12.2988 6.90828 12.2988 7.10356 12.1036Z",fill:"#697386"},null,-1),xe=[Ue],Le={key:2,width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ze=(0,r._)("path",{d:"M8.3999 0.25C4.11865 0.25 0.649902 3.71875 0.649902 8C0.649902 12.2812 4.11865 15.75 8.3999 15.75C12.6812 15.75 16.1499 12.2812 16.1499 8C16.1499 3.71875 12.6812 0.25 8.3999 0.25ZM8.3999 14.25C4.94678 14.25 2.1499 11.4531 2.1499 8C2.1499 4.54688 4.94678 1.75 8.3999 1.75C11.853 1.75 14.6499 4.54688 14.6499 8C14.6499 11.4531 11.853 14.25 8.3999 14.25Z",fill:"#8792A2"},null,-1),Oe=[Ze],ze={class:"text"};function We(e,s,t,n,i,a){return(0,r.wg)(),(0,r.iD)("div",ye,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.items,(s=>((0,r.wg)(),(0,r.iD)("div",{key:s.id,onClick:e=>this.$emit("update:current",s.id),class:"que"},[(0,r._)("div",{class:(0,q.C_)(["line",{blue:this.current==s.id,gray:e.isDone(s)}])},null,2),this.current==s.id?((0,r.wg)(),(0,r.iD)("svg",ke,De)):e.isDone(s)?((0,r.wg)(),(0,r.iD)("svg",Ce,xe)):((0,r.wg)(),(0,r.iD)("svg",Le,Oe)),(0,r._)("span",ze," Вопрос "+(0,q.zw)(s.id),1)],8,_e)))),128))])}var Fe={mixins:[$],props:["items","current"]};const Me=(0,p.Z)(Fe,[["render",We]]);var Ie=Me;const Te=["type"],Re=(0,r._)("option",{disabled:"",value:null,selected:""},"Выберите один из вариантов",-1),je=["value","selected"],Se={key:2,id:"question",class:"que-input"},Pe=["value","id","name"],Qe=["for"],$e={key:3,id:"question",class:"que-input"},Be=["id","value"],He=["for"];function Ve(e,s,t,i,a,l){return(0,r.wg)(),(0,r.iD)(r.HY,null,["text"==t.question.type||"number"==t.question.type?(0,r.wy)(((0,r.wg)(),(0,r.iD)("input",{key:0,id:"item",class:"que-input","onUpdate:modelValue":s[0]||(s[0]=e=>l.curQue.answer=e),type:t.question.type},null,8,Te)),[[n.YZ,l.curQue.answer]]):(0,r.kq)("",!0),"select"==t.question.type?(0,r.wy)(((0,r.wg)(),(0,r.iD)("select",{key:1,id:"question",class:"que-input","onUpdate:modelValue":s[1]||(s[1]=e=>l.curQue.answer=e)},[Re,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.question.value,(e=>((0,r.wg)(),(0,r.iD)("option",{key:e,value:e,selected:t.question.value[0]},(0,q.zw)(e),9,je)))),128))],512)),[[n.bM,l.curQue.answer]]):(0,r.kq)("",!0),"checkbox"==t.question.type?((0,r.wg)(),(0,r.iD)("fieldset",Se,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.question.value,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.wy)((0,r._)("input",{value:e,"onUpdate:modelValue":s[2]||(s[2]=e=>l.curQue.answer=e),class:"mr-05",type:"checkbox",id:e,name:e},null,8,Pe),[[n.e8,l.curQue.answer]]),(0,r._)("label",{for:e},(0,q.zw)(e),9,Qe)])))),128))])):(0,r.kq)("",!0),"radio"==t.question.type?((0,r.wg)(),(0,r.iD)("fieldset",$e,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.question.value,(e=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>l.curQue.answer=e),class:"mr-05",type:"radio",id:e,name:"radio",value:e},null,8,Be),[[n.G2,l.curQue.answer]]),(0,r._)("label",{for:e},(0,q.zw)(e),9,He)])))),128))])):(0,r.kq)("",!0)],64)}var Ye={props:["question"],computed:{curQue:{get:function(){return this.question},set:function(){this.$emit("update:question",this.curQue)}}}};const Ne=(0,p.Z)(Ye,[["render",Ve]]);var Ke=Ne,Ee={props:["user"],components:{ProgressBar:Ie,AnswerField:Ke},data(){return{userInProgress:this.user,current:1}},computed:{question:{get:function(){return this.userInProgress.questions[this.current-1]},set:function(e){this.userInProgress.questions[this.current-1]=e}}},methods:{...(0,a.OI)(["pushUserToData"]),...(0,a.nv)(["saveData"]),changeCurr(e){this.current+e<1||this.current+e>this.user.questions.length||(this.current+=e)},pushUser(e){this.pushUserToData(e),this.saveData(),this.$emit("update:user",null)}}};const Je=(0,p.Z)(Ee,[["render",be]]);var Ae=Je,Ge={components:{BreadCrumbs:z,RegForm:he,InterviewForm:Ae},data(){return{user:null}}};const Xe=(0,p.Z)(Ge,[["render",J]]);var es=Xe;function ss(e,s){return(0,r.wg)(),(0,r.iD)("h1",null,"Страница не найдена. Попробуйте поискать что-нибудь другое.")}const ts={},ns=(0,p.Z)(ts,[["render",ss]]);var rs=ns;const is=[{path:"/Interview/",name:"home",component:K},{path:"/Interview/interview",name:"interview",component:es},{path:"/Interview/:pathMatch(.*)*",name:"notfound",component:rs}],as=(0,b.p7)({history:(0,b.PO)("/interview/"),routes:is});var ls=as,os={},us={setUsers(e,s){e.usersData=s},pushUserToData(e,s){e.usersData.unshift(s)}},cs={loadUsers(e){e.state.isLoading=!0,e.state.isLoadingFailed=!1;try{const s=JSON.parse(localStorage.getItem("users"));s&&e.commit("setUsers",s)}catch(s){console.log(s),e.state.isLoadingFailed=!0,e.state.isLoading=!1}finally{e.state.isLoading=!1}},saveData(e){try{localStorage.setItem("users",JSON.stringify(e.state.usersData))}catch(s){console.log(s)}}},ds=(0,a.MT)({state:{usersData:[],isLoading:!1,isLoadingFailed:!1,isSending:!1,isSendingFailed:!1,questionsData:[{id:1,type:"text",value:null,placeholder:"Как твои дела?",answer:null},{id:2,type:"checkbox",value:["Где?","Когда?","Почему?"],placeholder:"Что?",answer:[]},{id:3,type:"radio",value:["Vue","React","Angular"],placeholder:"На чём написан этот опросник?",answer:null},{id:4,type:"select",value:["Машина","Самолёт","Ракета"],placeholder:"На чём ты поедешь домой?",answer:null},{id:5,type:"number",value:null,placeholder:"Сколько тебе лет?",answer:null}]},getters:os,mutations:us,actions:cs});const ps={class:"lds-ring"},hs=(0,r._)("div",null,null,-1),ms=(0,r._)("div",null,null,-1),vs=(0,r._)("div",null,null,-1),ws=(0,r._)("div",null,null,-1),gs=[hs,ms,vs,ws];function fs(e,s,t,n,i,a){return(0,r.wg)(),(0,r.iD)("div",ps,gs)}var bs={props:["size"]};const ys=(0,p.Z)(bs,[["render",fs]]);var _s=ys;const ks=(0,n.ri)(f);ks.use(ds),ks.use(ls),ks.component("base-loader",_s),ks.mount("#app")}},s={};function t(n){var r=s[n];if(void 0!==r)return r.exports;var i=s[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(s,n,r,i){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],i=e[c][2];for(var l=!0,o=0;o<n.length;o++)(!1&i||a>=i)&&Object.keys(t.O).every((function(e){return t.O[e](n[o])}))?n.splice(o--,1):(l=!1,i<a&&(a=i));if(l){e.splice(c--,1);var u=r();void 0!==u&&(s=u)}}return s}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[n,r,i]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,n){var r,i,a=n[0],l=n[1],o=n[2],u=0;if(a.some((function(s){return 0!==e[s]}))){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(o)var c=o(t)}for(s&&s(n);u<a.length;u++)i=a[u],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},n=self["webpackChunktest"]=self["webpackChunktest"]||[];n.forEach(s.bind(null,0)),n.push=s.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(3642)}));n=t.O(n)})();
//# sourceMappingURL=app.6508fd4f.js.map